{% extends 'generator/base.html' %}
{% load static %}

{% block content %}
<div class="container mt-4">
    <div class="d-flex justify-content-between align-items-center mb-4">
        <h1><i class="fas fa-terminal mr-2"></i>Logs de la Aplicación</h1>
        <div>
            <button onclick="location.reload()" class="btn btn-outline-primary">
                <i class="fas fa-sync-alt mr-1"></i> Actualizar
            </button>
            <a href="{% url 'generator:home' %}" class="btn btn-secondary">
                <i class="fas fa-home mr-1"></i> Volver al Inicio
            </a>
        </div>
    </div>

    <div class="card shadow">
        <div class="card-header bg-dark text-white d-flex justify-content-between align-items-center">
            <span>Últimas 500 líneas (lo más reciente arriba)</span>
            <small class="text-muted">app.log</small>
        </div>
        <div class="card-body p-0">
            <pre class="bg-light p-3 m-0"
                style="max-height: 70vh; overflow-y: auto; font-size: 0.85rem; border-radius: 0;">{% for line in logs %}{{ line }}{% empty %}No hay logs disponibles aún.{% endfor %}</pre>
        </div>
        <div class="card-footer text-muted small">
            Auto-limpieza de logs no implementada. El archivo crecerá hasta que se reinicie el sistema o se borre
            manualmente.
        </div>
    </div>
</div>

<style>
    pre {
        white-space: pre-wrap;
        word-wrap: break-word;
        color: #333;
    }
</style>
{% endblock %}