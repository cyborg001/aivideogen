{% extends 'generator/base.html' %}
{% block content %}
<div class="card" style="max-width: 600px; margin: 100px auto; text-align: center;">
    <h1 style="color: #4caf50;">✅ Autorización Exitosa</h1>
    <p style="font-size: 1.2rem; margin: 20px 0;">
        Tu cuenta de YouTube ha sido autorizada correctamente.
    </p>
    <p style="color: #666;">
        Esta ventana se cerrará automáticamente en <span id="countdown">3</span> segundos...
    </p>
    <button onclick="window.close()" class="btn" style="margin-top: 20px;">
        Cerrar Ahora
    </button>
</div>

<script>
    let count = 3;
    const countdownEl = document.getElementById('countdown');

    const interval = setInterval(() => {
        count--;
        if (count > 0) {
            countdownEl.textContent = count;
        } else {
            clearInterval(interval);
            window.close();
            // Fallback if window.close() doesn't work
            setTimeout(() => {
                window.location.href = "{% url 'generator:home' %}";
            }, 500);
        }
    }, 1000);
</script>
{% endblock %}